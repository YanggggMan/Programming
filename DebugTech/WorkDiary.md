#### 2017.11.3

> 卧槽，昨天更新的时候居然没用把做牌等测试代码删掉就更新出去了！血崩。。以后千万不能这么搞了，醉了。

#### 2017.11.6

>今天把libpdk这种逻辑单元单独拉出来用vs结合google test测试的时候各种编码报错，直接用另存->编码保存->unicode(签名)  一个一个文件搞才通过，好坑爹！

#### 2017.11.9

>工作中遇到的一些编码问题：
>
>1. 错误码的处理。感觉经常没有做好充足的处理
>2. 函数的robust，到底是在该函数里面处理还是外围处理？

#### 2017.11.10

>1. Data Driven Program 【重构】
>
>   通过将if-else改写成读取数据的方式，抽象出逻辑，更加易于修改
>
>2. 一个static 成员变量的用法
>
>   注意不要在头文件初始化，会导致重复包含的错误；当然，如果改了还有问题，记得删掉.o文件重新编译

#### 2017.11.14

>一个做好的项目发现一个普通玩法有严重结算错误。原因是模式标记操作上用了else！好像用else导致的错误不是一次两次了，最好用强判断，不要用else！
>
>上次用static变量没有考虑好全局范围，造成诡异的bug。。。写一个逻辑子类(table什么的)一定要注意了。。。

#### 2017.11.15

> gameLogic类与CardAnalysis类库对比：
>
> CardAnalysis类库通过静态方法来提供逻辑调用，本身希望不包含任何数据。然而需求。。而gameLogic本身可以保存少量状态。
>
> 为了将状态传递给CardAnalysis的成员方法，我不得不修改静态接口。如果不在cardAnalysis中添加状态，就要改一大坨的接口和调用这个接口的地方。。。我的方法是传递一个CardState进去，并且保存在CardAnalysis中，毕竟这个类有个比较好的特性就是经常用完即删，状态保存不会太久。

#### 2017.11.16

> 游戏流程分阶段进行，某些操作（比如炸弹即时奖分、出牌）可以单独分离出函数，但是因为设计不足，将改操作和其他流程衔接起来后就失去了__独立性__。通过将该函数的不同返回入口__设立返回值__，在不同调用该函数的地方做出补充，摆脱流程衔接来恢复独立性。（调用的少还好改，多了还是麻烦，注意函数独立性）
>
> 

#### 2017.11.21

>为了对付需求的变化的可能，不得不给实现预先兼容不同情况，比如能不能拆牌，这样就会有冗余信息，不过还是值得的。

#### 2017.11.23

>1. 有时候return不一定为了处理，而是为了不让服务崩掉
>2. 信息不足的bug，加了log就别管了，等下次复现

#### 2017.11.24

>完成递归枚举癞子的实现；下一步：1. for循环实现；2.手写栈；3.打表

#### 2017.11.26

>太蛋疼了，碰上一个很麻烦的实现
>
>有癞子的情况下，寻找大于目标牌的摇滚（所谓摇滚即连炸，要求数量相同，可以循环相连，按连子数和个头数取2的幂来计算当量）
>
>然而经过观察，对于一个不含癞子的摇滚查找，找最长癞子不一定是最大的连炸！相当于要按照连炸的全部个头数来找遍历。。。

#### 2017.11.27

>26日写下的问题被老大用循环解决了，但是通过提出 1. 4顺是5顺的子集 2. 2连炸是3连炸的子集 ，所以需要找到手牌中从两张开始的组合（第一个循环），再从固定牌类中寻找4-7顺的可能性（第二个循环）。。。当然，一个重要的优化解决了实现的难题，第一个循环因为是找顺子，可以化简为从某个起点开始向右找，又是用2个循环来搞。。。第二个循环之所以成立，依赖一个很重要的接口：找癞子的n顺存在性

#### 2017.11.28

>解决循环连办法：1.对vector取模 2.将元素复制一遍放数组后面。

